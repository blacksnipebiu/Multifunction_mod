# Multifunction Mod（Dyson Sphere Program）

一个为《戴森球计划》提供“OP 面板”和大量质量生活增强的综合功能 Mod。集成机甲强化、建筑与电力调整、矿脉与海洋管理、物流站扩展、量子传输站、戴森云/壳增强等功能，支持中英双语界面。

## 功能概览

- 人物/机甲
  - 走路、跳跃、采矿、制造、研究速度调节
  - 小飞机数量/速度/任务点调整；可设为不耗能
  - 机甲能量无限、无需翘曲器曲速飞行
  - 快速手搓、快速采矿、快速制造、直接获取物品
  - 锁血、假死、玩家攻速 Max、战斗相关倍率（战机耐久/速度/射速等）

- 建筑与电力
  - 建筑秒完成、蓝图建造无需材料、操作范围不受限制
  - 设备不耗电、物流站永久满电、物流站内置喷涂/发电
  - 风力涡轮机无限能源/覆盖全球/超长连接
  - 建造无需条件、强制粘贴蓝图

- 物流站与储液站
  - 额外存储倍率、堆叠倍率、增产点数上限
  - 储液站：无限容量、任意内容存储、无限增产
  - 机甲物流：需求/回收支持仓库与物流站；建筑/物品优先进入玩家背包
  - 传送带信号功能（BeltSignal）

- 量子传输站（星球/星系级）
  - 星球级/星系级翘曲全面供应
  - 星球级材料供应与拿取：物流站、矿机、发射井/弹射器、研究站、电力设备、组装机
  - 自定义量子耗能（每件物品）
  - 自动改名为“星球量子传输站”“星系量子传输站”

- 矿脉与海洋管理
  - 生成/移动单矿与整堆、整理/切割为指定行数、删除/掩埋全部矿
  - 获取所有矿并批量调整；添加油井速率/矿脉数量
  - 铺平星球（含地基/自定义颜色），改变/还原海洋类型，恢复所有星球海洋类型

- 戴森云/壳
  - 跳过太阳帆吸收/子弹阶段、每帧吸收、全球打帆、间隔发射
  - 打开戴森壳半径上下限、初始化/保存/导入蓝图
  - 注意：涉及戴森壳/云半径与跳过阶段的操作可能不可逆，使用前请务必备份存档

- 其它
  - 成就重新检测、传送、夜灯、垃圾站/丢垃圾速率、窗口显示与缩放

> 以上为核心类别与常见项，完整开关与数值请在游戏内 OP 面板查看。

## 使用方式

- 打开 OP 面板：默认快捷键 `LeftAlt + 1`
  - 面板标题会显示版本号，支持拖动与缩放
  - 面板内可勾选“改变窗口快捷键”，按提示录入新热键
- 面板分类：`人物`、`建筑`、`星球`、`戴森球`、`其它功能`、`机甲物流`
- 高危操作提示：
  - “极速弹射器/发射井”“跳过太阳帆阶段”“开放壳半径上下限”等，均可能造成异常，请先备份存档

## 安装

- 前置：需要 BepInEx（Harmony）环境，适用于《戴森球计划》的插件加载
- 手动安装：
  1. 构建生成 `Multifunction_mod.dll`
  2. 将 `Multifunction_mod.dll` 置于 `Dyson Sphere Program/BepInEx/plugins/Multifunction_mod/`
  3. 启动游戏，进入存档后按 `LeftAlt + 1` 打开 OP 面板
- 配置文件：`BepInEx/config/cn.blacksnipe.dsp.Multfuntion_mod.cfg`
  - 所有开关与数值均可在游戏中通过 OP 面板调整；必要时也可直接编辑该配置文件

## 构建与调试

- 打开 `Multifunction_mod.sln`（建议使用 Visual Studio 2022）
- 根据你本机的游戏安装路径，调整项目引用：
  - `Assembly-CSharp.dll`、`UnityEngine*.dll`、`BepInEx.dll`、`0Harmony.dll`
- `Multifunction_mod.csproj` 包含构建后事件：
  - 结束游戏进程、将生成的 `Multifunction_mod.dll` 拷贝到 `BepInEx/plugins/Multifunction_mod/`、通过 Steam 启动游戏
  - 如你的路径不同，请在 `.csproj` 中修改对应 HintPath 与 PostBuildEvent

## 本地化

- 自动根据游戏语言显示中英文（见 `MultifunctionTranslate.cs`）
- 面板与提示文本提供中英双语翻译

## 元信息

- 命名空间：`Multifunction_mod`
- 入口类：`Multifunction`（继承 `BaseUnityPlugin`，含 `[BepInPlugin]` 注解）
- 主面板资源：嵌入式 `multifunctionpanel` 资产

## 反馈

- 若遇到兼容性或异常行为，请提供日志与复现步骤（建议附带存档备份），并说明你启用的具体开关/数值与使用场景

